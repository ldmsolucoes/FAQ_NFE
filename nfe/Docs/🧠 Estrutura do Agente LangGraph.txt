üß† Estrutura do Agente LangGraph
1. Objetivo do Agente

Defini√ß√µes gerais:
- Se baseie nos anexos para sua elabora√ß√£o:
   'menu_nfe.html','nfe.js','nfe.py','Baixa_CSV.py'
- Antes de gerar, observe e analise  o fluxo abaixo:
  1. Na p√°gina 'menu_nfe.html', ao clicar no bot√£o 'Enviar' um javascript √© executado do arquivo 'nfe.js'
  2. No arquivo 'nfe.js', o m√©todo 'initializePerguntaUsuario()' chama via Post o m√©todo python 'processar_pergunta'
  3. No arquivo 'nfe.py' o m√©todo 'processar_pergunta' √© executado, que retorna para o javascript a resposta da llm


- Nos prompts use conceitos com: ReAct (Reasoning + Acting), (Thought / Reasoning), (Action), (Observation)
- O banco de dados ser√° o CrhomaDB
-  Vamos usar  o modelo gpt-3.5-turbo conforme par√¢metros abaixo:
    llm = ChatOpenAI(model="gpt-3.5-turbo", temperature=0, api_key="Minha Chave")

Cria√ß√£o do agente Langgraph:
- Criar o novo agente com as funcionalidades descritas abaixo, estritamente com o mesmo conceito do arquivo 'Baixa_CSV.py'
- Todas as funcionalidades devem estar no agente criado. N√£o haver√° outros agentes


M√©todo 1: carregar base
Base de conhecimento dever√° ser criada

1. Extrai dados da web (scraping/API)
1.1. A extra√ß√£o de dados deve ser de sites confi√°veis contendo o erro e a respectiva resposta
1.2. Vetoriza e insere na base RAG. O tamanho do chunk deve prever perguntas longas do usu√°rio
1.3. As pesquisas devem prever palavras antes e depois para facilitar a pesquisa para ser mais assertiva


M√©todo 2: responder_pergunta
1. Recebe pergunta do usu√°rio

Com o m√≠nimo de altera√ß√£o poss√≠vel no html/javascript em anexo implementar o novo fluxo no novo m√©todo do agente langgraph:
1. Consulta base local RAG
1.1. Com base na cria√ß√£o do m√©todo 1.
1.2. Se resposta confi√°vel ‚Üí retorna para o javascript
1.3. Se n√£o confi√°vel ‚Üí consulta LLM assim com est√° hoje


üîÅ Fluxo de Decis√£o
[responder_pergunta]
      ‚Üì
[consultar_base_RAG]
      ‚Üì
[verificar_confian√ßa]
   ‚Üí Se OK ‚Üí [resposta_html]
   ‚Üí Se N√ÉO ‚Üí [consultar_web_LLM] ‚Üí [resposta_html]
